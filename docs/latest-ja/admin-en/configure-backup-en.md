# フェイルオーバーメソッドの設定 

フィルターノードを[リバースプロキシ](../glossary-en.md#reverse-proxy)として展開するためには、そのフィルターノードが高可用性であることが必要です。フィルターノードの障害、例えば停電によるものなど、webアプリケーションの動作を制限します。Wallarmの高可用性を確保するために、本節で述べるフェイルオーバーメソッドの一つを使用することを推奨します。

フェイルオーバーメソッドは、主フィルターノードが故障した場合に自動的にトラフィックが転送される追加のノードを導入します。

## データセンターフェイルオーバー

webアプリケーションとフィルターノードがデータセンターにある場合、データセンターの「フェイルオーバーIP」サービスを使用してください。

## VRRPまたはCARP

それぞれのフィルターノード上で、 `keepalived` または `ucarp` デーモンを起動して、ノードの可用性を監視し、ノードがダウンすればトラフィックを転送を開始します。これは、フェイルオーバーIPを各ノードで起動し、DNSバランシングでトラフィックを分散することで、トラフィックの負荷分散にも使用できる標準的な高可用性メソッドです。

!!! info "NGINX Plusを使用する"
    WallarmはカスタムVRRPラッパーで[NGINX Plus](https://www.nginx.com/products/nginx/)上で動作するように設定することができます。

    CentOSやDebianを含むほとんどのLinuxディストリビューションには、このビルドをインストールできるカスタムパッケージがあります。
    
    WallarmのNGINX Plusとの連携については、「[«NGINX Plusとのインストール»](../installation/nginx-plus.md)」ページの詳細な指示を参照してください。

## ハードウェアL3またはL4ロードバランサ

レイヤー3またはレイヤー4のロードバランサは高可用性ソリューションとして良い選択です。

## DNSロードバランシング

DNS設定で複数のIPアドレスを指定します。この方法は負荷分散を目指していますが、高可用性としても役立つと考えられます。