##   追加設定

フィルタリングノードは、インストール後に追加の設定が必要な場合があります。

以下のドキュメントは、必要に応じて適用できる典型的なセットアップのいくつかをリストしています。

他の利用可能な設定についての詳細情報を得るためには、管理者ガイドの**設定**セクションに進んでください。

### クライアントの実際のIPの表示を設定する

フィルタリングノードがプロキシサーバーまたはロードバランサーの後ろに配置されている場合、追加の設定がないと、リクエストのソースアドレスがクライアントの実際のIPアドレスと等しくない場合があります。代わりに、プロキシサーバーまたはロードバランサーのIPアドレスの一つと等しくなるかもしれません。

この場合、フィルタリングノードがリクエストソースアドレスとしてクライアントのIPアドレスを受け取りたいと思うなら、プロキシサーバーやロードバランサーの[追加設定](using-proxy-or-balancer-en.md)を行う必要があります。

### 単一のリクエスト処理時間の制限

Wallarmの指令である[`wallarm_process_time_limit`](configure-parameters-en.md#wallarm_process_time_limit)を使用して、フィルタリングノードによる単一のリクエストの処理時間の制限を指定します。

リクエストの処理に指令で指定した時間よりも多くの時間かかった場合、エラー情報はログファイルに記録され、リクエストは`overlimit_res`アタックとしてマークされます。

### サーバー応答待ち時間の制限

NGINXの指令である[`proxy_read_timeout`](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_read_timeout)を使用して、プロキシサーバーの応答を読み込むタイムアウトを指定します。

この時間内にサーバーから何も送信されない場合、接続は閉じられます。

### 最大リクエストサイズの制限

NGINXの指令である[`client_max_body_size`](https://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size)を使用して、クライアントのリクエストのボディの最大サイズの制限を指定します。

この制限を超えた場合、NGINXはクライアントに`413`（`Payload Too Large`）コード、別名`Request Entity Too Large`メッセージを返信します。